<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unlock Chat ‚Äì Payment</title>

    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/payment.css">
</head>

<body>

    <div class="background-overlay"></div>

    <div class="payment-container">
        <h2>Unlock Girlfriend Chat üíó</h2>
        <p>Pay just <b>‚Çπ1</b> <span style="text-decoration: line-through; opacity: 0.7;">‚Çπ31</span> to activate unlimited chat access for full 1 month.</p>

        <img src="images/qr.png" class="qr-image" alt="QR Code">

        <p class="note">Scan & pay or tap the button below.</p>

        <!-- ‚≠ê Recommended Method Message -->
        <p class="note" style="margin-top: -5px; color: #ffd1e6; font-size: 0.9rem;">
            <!-- ‚ö†Ô∏è UPI apps sometimes block micro-payments.   -->
            <b>‚ÄúRecommended: Scan & pay using the QR.
Or take a screenshot and scan it in PhonePe.‚Äù</b>
        </p>

        <div class="payment-buttons">

            <!-- PAYTM BUTTON -->
            <!-- <button class="unlock-btn" id="payBtn">
                <a  
                    id="payLink"
                    href="paytmmp://pay?pa=rituals@ptaxis&pn=DreamC&am=10&cu=INR"
                    style="
                        color: white;
                        text-decoration: none;
                        display: block;
                        width: 100%;
                        height: 100%;
                    "
                >
                    Pay ‚Çπ1 with Paytm
                </a>
            </button> -->

            <!-- OR TEXT -->
            <!-- <p class="or-text">or</p> -->

            <!-- PHONEPE BUTTON -->
            <!-- <button class="unlock-btn" id="phonepeBtn" style="margin-top: -5px;">
                <a  
                    href="phonepe://pay?pa=rituals@ptaxis&pn=DreamC&am=1&cu=INR"
                    style="
                        color: white;
                        text-decoration: none;
                        display: block;
                        width: 100%;
                        height: 100%;
                    "
                >
                    Pay ‚Çπ1 with PhonePe
                </a>
            </button> -->

            <p id="qrTimer">
                QR code will auto-expire in  <b id="countdown" class="timer-animate">05:00</b>
            </p>



            <button class="unlock-btn" id="verifyBtn" style="margin-top: 0px;" disabled>Verify Payment
            </button>


            <div id="loader" class="loader" style="display:none;"></div>

            <button class="unlock-btn" id="paidBtn" style="display:none;">
                Start Chat
            </button>
        </div>
    </div>

<!-- <script>

    function startPaymentFlow(appLink) {

        // Open the selected UPI app
        window.location.href = appLink;

        // Hide both payment buttons + OR text
        document.getElementById("payBtn").style.display = "none";
        document.getElementById("phonepeBtn").style.display = "none";

        const orText = document.querySelector(".or-text");
        if (orText) orText.style.display = "none";

        // Show loader
        document.getElementById("loader").style.display = "block";

        // After 5 seconds ‚Üí hide loader and show "I Have Paid" button
        setTimeout(() => {
            document.getElementById("loader").style.display = "none";
            document.getElementById("paidBtn").style.display = "block";
        }, 5000);
    }

    // Paytm Button
    document.getElementById("payBtn").onclick = function () {
        startPaymentFlow("paytmmp://pay?pa=rituals@ptaxis&pn=DreamC&am=1&cu=INR");
    };

    // PhonePe Button
    document.getElementById("phonepeBtn").onclick = function () {
        startPaymentFlow("phonepe://pay?pa=rituals@ptaxis&pn=DreamC&am=1&cu=INR");
    };

    // After payment ‚Üí unlock chat
    document.getElementById("paidBtn").onclick = function () {
        localStorage.setItem("premium_access", "true");
        window.location.href = "chat.html";
    };

</script> -->


<script>
document.addEventListener("DOMContentLoaded", function () {

    let timeLeft = 5 * 60; // 5 minutes in seconds
    const countdownEl = document.getElementById("countdown");
    const verifyBtn = document.getElementById("verifyBtn");

    const timer = setInterval(() => {

        // Calculate minutes + seconds
        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        // Update text
        countdownEl.innerText = `${minutes}:${seconds}`;

        // Animate pulse every second
        countdownEl.classList.remove("timer-pulse");
        void countdownEl.offsetWidth;
        countdownEl.classList.add("timer-pulse");

        // Turn red when 30 sec left
        if (timeLeft <= 30) {
            countdownEl.style.color = "#ff4e4e";
        }

        // When timer ends
        if (timeLeft <= 0) {
            clearInterval(timer);
            countdownEl.innerText = "00:00";
            countdownEl.style.color = "#ff4e4e";

            verifyBtn.disabled = true;
            verifyBtn.innerText = "QR Expired";
            verifyBtn.style.opacity = "0.5";
            verifyBtn.style.cursor = "not-allowed";
        }

        timeLeft--;

    }, 1000);

});
</script>


<script>
    // VERIFY PAYMENT BUTTON
    document.getElementById("verifyBtn").onclick = function () {
        // Show loader
        document.getElementById("loader").style.display = "block";

        // Hide verify button
        document.getElementById("verifyBtn").style.display = "none";

        // After 5 seconds ‚Üí show "I Have Paid"
        setTimeout(() => {
            document.getElementById("loader").style.display = "none";
            document.getElementById("paidBtn").style.display = "block";
        }, 5000);
    };

    // I HAVE PAID ‚Üí Unlock chat
    document.getElementById("paidBtn").onclick = function () {
        localStorage.setItem("premium_access", "true");
        window.location.href = "chat.html";
    };
</script>

<script>

    // Disable Verify Payment initially
    const verifyBtn = document.getElementById("verifyBtn");
    verifyBtn.disabled = true;

    // Enable after 20 seconds
    setTimeout(() => {
        verifyBtn.disabled = false;
        verifyBtn.style.opacity = "1";
    }, 20000);

    // VERIFY PAYMENT BUTTON ACTION
    verifyBtn.onclick = function () {

        document.getElementById("loader").style.display = "block";
        verifyBtn.style.display = "none";

        setTimeout(() => {
            document.getElementById("loader").style.display = "none";
            document.getElementById("paidBtn").style.display = "block";
        }, 5000);
    };

    // I HAVE PAID BUTTON
    document.getElementById("paidBtn").onclick = function () {
        localStorage.setItem("premium_access", "true");
        window.location.href = "chat.html";
    };

</script>




</body>
</html>
